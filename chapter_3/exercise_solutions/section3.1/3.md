# Generalized Lower Bound for Insertion Sort

### Problem Statement
Suppose $\alpha$ is a fraction in the range $0 < \alpha < 1$. We consider an input array of size $n$ in which the $\alpha n$ largest values reside in the first $\alpha n$ positions. We aim to:
1. Determine the restriction on $\alpha$ required to generalize the lower-bound argument.
2. Find the value of $\alpha$ that maximizes the number of times these values must pass through the middle region.

---

### Proof

#### 1. Array Decomposition
Let the array indices be $1, \dots, n$. We divide the array into three distinct regions:

1.  **Start Zone:** Indices $[1, \dots, \alpha n]$. Contains the "heavy" elements.
2.  **Middle Zone:** The bridge between the start and the sorted position.
3.  **Target Zone:** Indices $[n - \alpha n + 1, \dots, n]$. Where the elements belong.

The length of the **Middle Zone** is:
$$\text{Length} = n - (\alpha n) - (\alpha n) = n(1 - 2\alpha)$$

For the Middle Zone to exist (i.e., have a non-negative length), we must satisfy:
$$1 - 2\alpha \ge 0 \implies 2\alpha \le 1 \implies \boxed{\alpha \le \frac{1}{2}}$$

#### 2. Work Analysis (Counting Inversions)
In the worst-case scenario for Insertion Sort, the algorithm must resolve inversions by shifting elements.
* There are $k = \alpha n$ "heavy" elements currently in the **Start Zone**.
* In the sorted output, these elements must reside in the **Target Zone**.
* Therefore, every single one of these $\alpha n$ elements must completely cross the **Middle Zone**.

Let $S(\alpha)$ be the total number of shifts required solely to cross the middle region:
$$S(\alpha) \approx (\text{Number of Heavy Elements}) \times (\text{Length of Middle Zone})$$
$$S(\alpha) = (\alpha n) \cdot (1 - 2\alpha)n$$
$$S(\alpha) = n^2 (\alpha - 2\alpha^2)$$

#### 3. Maximization
To find the worst-case lower bound, we maximize the function $f(\alpha) = \alpha - 2\alpha^2$ with respect to $\alpha$.

Compute the first derivative:
$$\frac{df}{d\alpha} = 1 - 4\alpha$$

Set the derivative to zero to find the critical point:
$$1 - 4\alpha = 0 \implies \boxed{\alpha = \frac{1}{4}}$$

Check the second derivative:
$$\frac{d^2f}{d\alpha^2} = -4 < 0 \quad (\text{Maximum})$$

Since $\alpha = 1/4$ satisfies the restriction $\alpha \le 1/2$, this is the optimal value.

#### 4. Conclusion
Substituting $\alpha = 1/4$ back into the shift equation:
$$S\left(\frac{1}{4}\right) = n^2 \left( \frac{1}{4} - 2\left(\frac{1}{16}\right) \right)$$
$$S\left(\frac{1}{4}\right) = n^2 \left( \frac{1}{4} - \frac{1}{8} \right) = \frac{n^2}{8}$$

This demonstrates that for a specific class of inputs, Insertion Sort requires at least $n^2/8$ operations. Thus, the worst-case running time is bounded below by a quadratic function:
$$T(n) = \Omega(n^2)$$
